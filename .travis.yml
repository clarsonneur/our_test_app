env:
  global:
  - secure: ZE++I+1Toaiqvm+P1RIrZWx+sA8Yz1SEeSIyR5WwxUxzOEwrm8GNuCGiL79T1eGQQv16jAxBI3Sqwi9Vbo7r/m2CYkiC8tT6JqmDPzsaEdMH2tnVsu1NdaUUuRucFOZeBKAcxBQgp9wbpIXFm6fnEaOAGE9t7BTGpPVzQJ4dAUAYf6y7f+wuW25mtOEjZkRxPsL0uyBvGU5koMMkvhXtoOjgLI64CN4ILBv/aWMjHCMZ1JmB4f/TFVgSTgC2kQ/zbpH7N92rbkiklxylBIUcTJxx6m57Q1s2+PgTTKK+UiPHsdADTMn0130BFNH+KFyBenmfqc/OjvOGw2AFD71tKzsDdDFapnRLyJ9oHfJ6hVYO1xEZA58OSfREpV/K0WCWkRWQ5TY5g5jWszt3HqGH/OtSIvH5mKv4Ark3r2oSTjRAjCncaBzcv6mGhQXDPpj7nvE0ew0TA4NUAVoCZJh0FzkDWvrXy2++SzHwjANPYUWd3G5TQVaZevTK+5vP9wQXw1cx2zuqAX2ENIfKddQcm9shzmHpvh/Y86ynZjJ+9DqSU4xS1qHFV6dbzhjKq+1Jlar6NKSuk8E8ukLgo2gn6UW1pYrhQoVf7Xq1Kr8HLUmEBF2cZqK6tBNKaa+atlJMsVmWViwktuU2a0OsFQ3Ven8w0yicj7FLTRKm9sO3ROI=
  - secure: yHLqliR6McUxF8+reqpNPn9lNBBg1eSX4PrGhhR2DB91DLmG8nOnKlU/O1+7j/lm8LlKIg+ia3Zcs3sPX6kYfBx+wZ4bVYRIOLKRqpLSNKEp+K37vGi1K88OjVmf2rU4WQ1STQBQ2PDJs7idukSiAYNGpA0dumT6lfjhFTwO+Udf9pi40XFDrbZtlMWwMj/NBm3wFhCtNPNsHv2oG97DhkzMWXvyFqpHPvPtLAKcLsi9rwFSLSUJM5K5G8v+tnICTWF4/C8DwYkFGo2V3TLKdP1QQAs8LobqFrmIt7hINTsR3zOSgnJiHTrWTnWOk31QRr3XGhjqdvbyJjNDHCaVHM7IgPTbJye4H87fFNZUex8PB7fd9R6BY0Ntl17LeAl8u+3H/HkPfGGYCPbYRpsBzvLqQ2GRrUDm6YmVfOV+wFcEU6TlwLWu7GKMVM+MkzUfEU0hyiCntLVd85bSMtQ6z3Gq9QSGbCZzAtWMwqa0WyPidq6M8e+nHVl2WGO3E1kPXmqo+mH8hviJ6Z2V2H9tqoMyecb+F1qyD/4hKIkQhkzRY581jvJezJ0PjZMDj1vKiNvcd25vAY1DrTWgDLMmWxBbVGFA9tSwk6vQDck8ikdFMEcGN+LsQmCrf+D5pzK9rDgW/8eNdCCYNeO51CIwG+kTKtmD1sDOXqPGrhImRO4=
  - secure: Svy0G4bQCQoXGlxCbVdL9yJCnbPatMvD2pgORPGlGYD/LyvQ67vJWf32J3A7Nv0LCWjKHRzlCncCoRbSeK+kgnEGdfSszm7SIK4L6CWlzGv3Cw2WYgxQN8cqKXgasP+xPldM/5w0vCfyItxpJf+dVcq6myg1+k7+p+TQXGAqm348bV+JB2wXBZ2i9opr6/YobC2EUKAaPvwQzMBQvwFCibvBnoOmjJ9rxx35OJ+AIi1RXEf0WFEBQi1y6hk29TwnrYiykAN4if0aKv59xGl9kgNOknvKnDyJ4ZjkWT6FB/+5yBQ4aQejLycQnlnQe9sjNuuC+2j1vLjCDeVq49ebhceRFnScDeNtjy2uNOKW8xEHRT4O1Ut7IlqpXtERzf0NHr54GqiUQ80gWE0WS1MdH8jlLb8jsztQHFgy2FB0wFjUy2T6hMqFeDs8hhz+Qiv9xr+S/QTtb8Cm+LOwGR/1NCadrpGqBX3InTKDZ24iyX1vGuUFHK6SRCmCikXUDZ7w0lAoafbbUVNWsQLhh3eXjMSABbwvGEOI8q7eUAiQkVAEqumh2cRx5DcVLxtok1vDpO6fWcbrcal1IfqfmhAi4YAVG1UKrzsqKMMUSWh3ODo5r5LU9mpKgNutLgJAEKB9b1oytEQDSU4INYlylizOfHXcyAYepjWvptP/wzitXrw=
  - secure: dTsIlMNNunX7mlnNL7SSRFFTVn0fZRx71dRCaUrstzD+FuQoaM2+rEXGKYyF+s7fS07BHuvhUkmUmlKjElmunvitQJ4SSJ4o51LgrAPm3CjUwCigU17ejl3NXbPYoEIxD8uXuStGJEx+ZOjb68phAPhVDqU0Z4pgNEYzmL8WJTU169iIaBk6rQ/idKMwFqKRDZaX7YWYsBmecM9i8yTpnQQcG8zUxl20hs8cmEsBfPypybda8qwInk8EbsqX8oNbzKXQob0iMUO8LeO62gq8HcOvwgcia9CW5c+BPbMPZKgXfOiwYtjvRXsRd4BuQdAWugTszUfaYGyi6Td7+vmWRpa9Vpxv+JETAnmK03VvBuHiCbb3esmwAX/zTyvGI4wiAha0TFjpQVOe6rTQYePyS0/3CsrdyYAb8qna+b7bOoCKbC8RRgkK2WhB8ee+W3cgimPo2BQLj7b9fPJ+Tjvy33CnKAaVTyYj4WKOsYcMi1nmovKyW+l8M3uPjBh3IjXh06tYeFpr9QrkAnCWygA3oSR5mbjYxqVx/0YFDF1vahbFZZprkPc5fqSVT1phnmtXzTeB/N1qdLspi4pBlYuEQB8XSaF/zpJzsDkw0HZPupFQjhmLGaJcKPhDQ48ZX4QoMWvYfYkUk7px33ISrQCDADnUVVVXRM6bqMsccXmWkOQ=
  - secure: XTDmdTaifUVMQcL5G6qYPPqPKth91CWzRNSyOpiIPcycZL6EsHDBW0EQk9bd6ia/0Ed9L5pYoPjJIhb6P5JsiXPJdyIKs9taXx3+I19v+ShL7J2/hTrI0Ixcjy8Qm97ZQ0tIw58RXrS6n06JDK6TVacOF+k3/Eolg/lY/1hY4TD16VGOpFG+b0Vq07obbIfkacqk6bxPjHZ/LVG96lceQ9+ehTBSdkH0e5UxEjjSboJcLURlh49akd+/Lf/KySgO2SSz7kI0iY+V7ghgN7fkbsJcpx0I+yAN4pI5OnFErx2CqRbH1fcMM+ZEAy3/ORkyO0XyRRxnDQSA/V4ojjlG1M37ZutF7OgCvs0E6F7wrWhaCR6R7+Uw86GnR+OoWfTGXJF6WlJGQlgWlvPYlnX8AIgXw9UlGNthCyy64J7uaVHLgXiY7mc8suJGSnA0l25fLJozlW9pnbSZUiK3rvj/svt32VqHxvZ8P8zsiSsqDg8J7aWopkXLMiKlfi0YeOKKcO/8PKTebUVjGihfRVZb0wi+j0czukHBiDGzSl3EN2FDjR7dp7X6NuTl+tXesGojcXM6GCQMt/QjTNSBxwpHPKHOgleH1UmTWLEGz8r4Csz7PfV3dLPj9TUzzGGfDKmy4Nl03+Tm4iF79WjSYuOAPRJIsCFpp+LLg4QmCmIqZKQ=
  - secure: SX8rHJmOlnMa4ddZ0JdCcZNAZSZqLGWnQHWgSx05dzTqPsJM1lBsL/TVA/ll6/UY9Nexs//gO8BzxJQXV1Ro/fF0kZjqr8omkRWeIxLV2sI5X1XwxC8I0m/ZFae+nOTaO5iqaGPoOvqUcWZApXlB9vIx3CQ0tKnMmcuSmj+NbsdcuQ47TjBX5KfK5yKknMcDTNrnI47IJ88Is5lIUqToC8p1Ca2/kNESH8dE2mq5uekpi6hJMEVph6j7lkwpXxD+bLmpAZAioQHIvJcgIWzO3SC/NdWpMRkyTcIIdcQOcopqOI04uTJ0n40aCUQRVp74TUDFDniPT810EUj0nxEDqq1FVYpnlWdg2t5kzLb/+Z5mULJgTQppqCfIefLjtM3vwYEwIe9tj7Sg4GpXgi89bPB/AdaMiM7kpJNMXgaSaThPHatXieW9Q9QT3sspvRiOxnpGVCz8dZYziMmzjBgm38gfz4zdiW0QCDsxvdDw3OMfBaaiZpYt7RoB0o8eIXgr9avokgoAphxN0KOV1ZxfKF/0dUhf0LBXyITDN0mfPJtiE9IiQ/sjwh80y7hvtiJs22SRGpKaWBq9LqBip08+SuY3WvKRK/bCDZi7QP398ku2j2wljxnw7770A/RnE/YSmk1/mcaF3PMCPfeHaqS8i3z6wJbmPzk/F6OXdxucsik=
sudo: required
services:
- docker
language: python
python:
- '3.4'
install:
- pip install -r requirements.txt
- pip install python-openstackclient
- docker-compose build
script: py.test
after_success:
- docker images
- docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
deploy:
- provider: script
  script: scripts/deploy.sh staging
  on:
    all_branches: true
notifications:
  slack:
    secure: fqUk6dUppIZx6cFUuHazfRWSnEvSEeuiX3Owzn/isBanpA0LRd37+Wq+UIeZ8v6qUYfebuiO8MP9fwV/eyZgJglEKjDgksuV4X5dFyxhN8mMFjMf0E5WXneAVU6NRHe3bFqEQx9FPUYEwmkZLIdbQfAwoMfhn/D1vRfEka3iLJdIjbUx/pAWEpBYCoQ4i817frqgZG0hrT+Btz8ICjfXtEjQ+FRJOWPkRtkrLFd25GE2Fl9ZIvTgArz95G6R48CBsYrUvyR4VDhWNDYslMOj+UtUwjS8x4+y9Y+QiKfXiK7jYvjcGcYqsXnXKloawtYc/QBTrhiaTMefsfsvrIKb0JmDlfyXMod+LK/QvQQz/egsbX1wyWE0JSPTANOeaafgEiWSv9dkmcsGQFGwxbXx++xk0dJahC5u85XMRJc5wV9Prx5hcpMC1s1g6BpcuZvMv+yWlohDXCbT9Bcgo2P2mhuFWutfPccjnyYpBhkfQ8qQn+OyaOtZeCJAiXsUorGJBcK5Gwl0SlsTjykkrwpr3WczHz19OyXYxEcEk1QHeCkxN11qR2/XOe5QCCwKKLGmPvnkhMH19sBit4k4CVQ82pWLDwoiPs0Xeq718J+e7JIQ+JWL+JO0aZy/B5XeBcyFJ2BbcCDUgB6saqrXQKW3VH0IS0RvYd4p/hQH/xT+QfY=
